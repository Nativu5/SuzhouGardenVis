<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>空间聚集与游览带 - 苏州园林</title>
    <link rel="stylesheet" href="styles/main.css">
    <script src="https://d3js.org/d3.v7.min.js"></script>
</head>
<body>
    <div class="container">
        <header class="header">
            <h1 class="main-title">空间聚集与“游览带”</h1>
            <p class="subtitle">用经纬度撒点模拟空间关系，寻找值得推荐的游览圈/带</p>
            <div style="margin-top:12px;">
                <a href="index.html" style="color:#fff;text-decoration:underline;font-weight:600;">返回主页面</a>
            </div>
        </header>

        <section class="filter-panel" style="margin-bottom:20px;">
            <div class="filter-group">
                <label for="top-n">取前 N 个高分园林：</label>
                <input id="top-n" type="number" min="5" max="60" value="20" style="width:80px;padding:6px 8px;border:2px solid #e9ecef;border-radius:6px;">
            </div>
            <div class="filter-group">
                <label for="min-worth">最低“值得去”指数：</label>
                <input id="min-worth" type="number" step="0.1" min="0" max="6" value="4.2" style="width:80px;padding:6px 8px;border:2px solid #e9ecef;border-radius:6px;">
            </div>
            <button id="apply-spatial" class="reset-btn" style="margin-left:0;">应用</button>
        </section>

        <main class="charts-container">
            <section class="chart-card" style="grid-column: span 2;">
                <h3 class="chart-title">相对位置散点（矩形投影）</h3>
                <div id="spatial-scatter" class="chart"></div>
                <p style="margin-top:10px;color:#6c757d;font-size:0.9rem;">
                    使用经纬度线性映射到矩形，标记大小一致，颜色代表“值得去”综合得分；支持滚轮缩放、拖拽平移，不开放园林自动隐藏。灰色带框为推荐“游览圈/带”，线条给出一条简单游览顺序。
                </p>
            </section>

            <section class="chart-card" style="grid-column: span 2;">
                <h3 class="chart-title">距离核心区梯度</h3>
                <div id="distance-gradient" class="chart"></div>
                <p style="margin-top:10px;color:#6c757d;font-size:0.9rem;">
                    以高分核心点为参考，展示距离与保护/开放的关系，观察空间梯度。
                </p>
            </section>
        </main>
    </div>

    <div id="tooltip" class="tooltip"></div>
    <script src="scripts/spatial-band.js"></script>
</body>
</html>
