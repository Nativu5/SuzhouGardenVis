# 强化可视化叙事报告

## 0. 报告目标与数据范围

- 目标：让概览模式的叙事场景从“描述性展示”升级为“观点清晰、证据链完整”的洞察叙事。
- 数据范围：仅使用 `public/dataset/SuzhouGardenListFull.csv` 与 `public/dataset/SuzhouDistricts.csv`。
- 图表约束：严禁饼形图与折线图；鼓励矩阵、散点、箱线图、树图等用于揭示结构性差异与异常。

## 1. 数据全景速览（两份 CSV 的关键特征）

### 1.1 基础规模

- 园林样本：108 条。
- 世界遗产：8 条（7.4%），且全部集中在姑苏区。
- 文保级别：未定级 45（41.7%）、全国 26（24.1%）、省级 15（13.9%）、市级 20（18.5%）、县级 2（1.9%）。
- 开放情况：开放 79（73.1%）、不开放 27（25.0%）、预约开放 2（1.9%）。

### 1.2 空间集中与公平性

- 姑苏区占地仅 1.0%（83.42 km²/8379.37 km²），却集中了 51.9% 的园林（56/108），园林占比/面积占比 ≈ 52 倍。
- 区县人均开放园林数差异明显：姑苏区 0.367 个/万人，吴中区 0.149 个/万人，常熟市 0.065 个/万人，其余区县更低。
- 苏州区划数据中虎丘区存在，但园林数据为 0 条（需在叙事中呈现“空白区域”事实）。

### 1.3 时间与认定节奏

- 时代分布：清代 52（48.1%）为主，现代 19（17.6%），明代 16（14.8%），宋代及以前 11（10.2%）。
- 批次节奏：现代园林集中在公布批次 3/4（19 条中 19 条），宋代及以前分散在批次 1–3（以 2/3 为主）。

### 1.4 开放结构的制度性差异

- 权属开放率：国有 84.3%，私有 23.5%，企业 25.0%，宗教产 100%（样本小）。
- 用途开放率：游览服务 97.2%，单位使用 15.4%，私人 0%。
- 高等级不可达：全国/省级 41 条中有 7 条不开放（或预约开放）。

### 1.5 规模分布与资源集中

- 面积分布极端：200–168,000 ㎡；Top10 园林占总面积 46.1%。
- 开放园林平均面积 14,566 ㎡；不开放园林平均面积 4,251 ㎡（规模与开放显著关联）。

## 2. 强化叙事的设计原则

1. **每个场景必须有明确中心观点**，并以 2–3 组证据图表闭环支持。
2. **“绝对数量 + 归一化指标”成对出现**，避免规模偏差误导。
3. **从全局结构到案例清单的证据链**：分布图 → 结构图 → 清单表。
4. **矩阵与散点用于结构洞察**，柱状图用于排序与对比，避免图表单调。
5. **叙事文本与指标卡一致**，不调整既有口径（字段定义保持现状）。

## 3. 场景总体规划（推荐 5 个叙事场景）

### 场景 1：空间集中与遗产核心（强化版）

**核心观点**：园林与高等级遗产高度集中在古城核心区，集中度远高于面积与人口占比，形成“单极核心”。  
**为什么需要**：当前仅展示数量与密度，未揭示“集中程度是否合理”以及“遗产核心是否等于高等级集中”。  
**用户能获得什么**：一眼理解苏州园林的核心与边缘结构，判断遗产资源是否均衡。  
**修改方案**：

- **保留**：世界遗产清单表。
- **替换**：将“区县总面积柱状图”替换为“园林占比/面积占比比值条形图”（集中度更直观）。
- **新增**：区县×文保级别热力矩阵、核心区结构散点图。
- **移除**：仅用于计数对比的重复柱状图（避免与密度/集中度表达重复）。  
  **图表与数据设计**：
- **区县×文保级别热力矩阵**（新）：
  - 类型：矩阵热力图
  - 维度：区县 × 文保级别（全国/省级/市级/县级/未定级）
  - 指标：数量 + 区县内占比（tooltip）
  - 数据子集：全量园林
- **园林占比/面积占比比值条形图**（替换“区县总面积”）：
  - 类型：排序条形图
  - 公式：`区县园林占比 ÷ 区县面积占比`
  - 数据来源：园林区县统计 + `SuzhouDistricts.csv` 面积
  - 直接呈现“52x 核心集中”
- **核心区结构散点图**（新）：
  - 类型：气泡散点
  - X：园林密度（个/km²）
  - Y：高等级占比（全国+省级）
  - 气泡大小：园林数量
  - 颜色：开放率
  - 数据子集：区县聚合
- **世界遗产清单表**（保留）：
  - 数据子集：`isWorldHeritage = true`
  - 作用：支撑“遗产核心”结论
    **页面文字说明（需新增）**：
- **场景导语（标题下方）**：说明“核心区高度集中”，并提醒与区县面积/人口对照解读。
- **阅读路径提示（图表区顶部小字）**：先看“集中度比值”，再看“结构散点”，最后查“遗产清单”。
- **关键结论条（1-3 行）**：
  - “姑苏区占地约 1.0%，却拥有 51.9% 园林，集中度比值约 52。”
  - “高等级遗产占比在核心区显著更高。”
  - “世界遗产全部分布于姑苏区，遗产核心高度单极化。”
- **图表注释**：
  - 矩阵色深=数量；tooltip 显示区县内占比。
  - 散点气泡大小=园林数量，颜色=开放率。
- **数据提醒**：虎丘区在区划中存在但园林记录为 0，应以空白显示。

### 场景 2：历史谱系与认定节奏（强化版）

**核心观点**：认定节奏存在明显阶段性，现代园林集中在后期批次，早期园林分布更分散，体现价值认定的时序差异。  
**为什么需要**：当前以数量堆叠为主，缺少对“批次节奏”与“时代结构”的解释力。  
**用户能获得什么**：理解政策认定的节奏、历史园林在当代体系中的定位。  
**修改方案**：

- **保留**：早期年代园林清单。
- **替换**：将“公布批次×建造年代分层柱状图”替换为“公布批次×建造年代矩阵”（更易读节奏与占比）。
- **新增**：认定节奏气泡散点图、年代面积箱线图。  
  **图表与数据设计**：
- **公布批次×建造年代矩阵**（新）：
  - 类型：矩阵热力图
  - 维度：公布批次 × 年代分类（宋代及以前、元代、明代、清代、民国、现代）
  - 指标：数量 + 批次内占比
- **认定节奏气泡散点图**（新）：
  - 类型：气泡散点
  - X：公布批次（1–4）
  - Y：年代分类（有序刻度）
  - 气泡大小：面积（对数尺度）
  - 颜色：文保级别
  - 数据子集：全量园林
- **年代面积箱线图**（新）：
  - 类型：箱线图
  - 维度：年代分类
  - 指标：面积（㎡）
  - 作用：揭示不同时代的规模差异
- **早期年代园林清单**（保留）：
  - 数据子集：宋代及以前
  - 作用：提供具体历史样本
    **页面文字说明（需新增）**：
- **场景导语**：强调“认定是分阶段完成的，不同时代的价值认定并不同步”。
- **阅读路径提示**：先看“矩阵”识别批次节奏，再看“气泡散点”理解规模与等级，最后看“箱线图”比较时代规模差异。
- **关键结论条**：
  - “现代园林集中在后期批次（3/4），早期园林分布更分散。”
  - “明代与宋代及以前园林面积整体更大，体现历史规模差异。”
- **图表注释**：
  - 矩阵 tooltip 同时显示数量与批次内占比。
  - 气泡散点 X=批次、Y=年代，颜色=文保级别。

### 场景 3：开放可达与制度结构（强化版）

**核心观点**：开放差异主要由权属与用途结构驱动，并在区县层面表现为人均可达性的显著不均衡。  
**为什么需要**：当前桑基图只呈现流向，缺少“开放率差异”与“公平性”维度。  
**用户能获得什么**：理解开放性背后的制度结构与公共资源公平性。  
**修改方案**：

- **保留**：未开放园林清单。
- **替换**：将“区县×开放情况分层柱状图”替换为“区县公平性散点图”（避免数量偏差）。
- **新增**：权属性质×开放情况矩阵、开放率排序条形图。
- **调整**：当前用途×开放情况改为 100% 堆叠比例展示。  
  **图表与数据设计**：
- **权属性质×开放情况热力矩阵**（新）：
  - 类型：矩阵热力图
  - 维度：权属性质 × 开放情况
  - 指标：数量 + 权属内开放率
- **当前用途×开放情况 100% 堆叠条形图**（保留但改为比例）：
  - 维度：当前用途
  - 指标：开放情况占比
  - 作用：突出“私人/单位使用几乎不开放”
- **开放率排序条形图**（新）：
  - 类型：排序条形图
  - 维度：权属性质 / 当前用途
  - 指标：开放率（%）
- **区县公平性散点图**（新）：
  - 类型：气泡散点
  - X：开放率（%）
  - Y：人均开放园林数（个/万人）
  - 气泡大小：园林总数
  - 颜色：区县
  - 数据来源：`SuzhouDistricts.csv` + 园林聚合
- **未开放园林清单**（保留）：
  - 数据子集：开放情况 != 开放
  - 作用：形成“结构 → 具体清单”的证据闭环
    **页面文字说明（需新增）**：
- **场景导语**：指出开放性主要由制度结构决定，而非单纯区县数量差异。
- **阅读路径提示**：先看权属矩阵、用途比例，再看开放率排序，最后看区县公平性散点。
- **关键结论条**：
  - “国有园林开放率显著高于私有/企业，结构性差异明显。”
  - “私人用途几乎不开放，公共可达性受用途结构限制。”
  - “区县间人均可达性差异显著，核心区远高于外围区县。”
- **图表注释**：
  - 公平性散点：X=开放率，Y=人均开放园林数，气泡大小=园林总数。

### 场景 4：规模结构与资源集中（强化版）

**核心观点**：园林规模呈强烈长尾分布，少数大园林占据近半面积，开放园林在规模上明显占优。  
**为什么需要**：当前仅展示直方图，缺少“集中度”与“规模-开放关系”的解释。  
**用户能获得什么**：理解资源配置是否集中、开放是否偏向大园林。  
**修改方案**：

- **保留**：面积区间直方图、面积 Top10 清单。
- **替换**：将“区县平均/总面积柱状图”中的至少一项替换为“面积集中度可视化”（Treemap 或排序条形图）。
- **新增**：面积-时代/开放散点图、开放/不开放面积箱线图。  
  **图表与数据设计**：
- **面积区间×开放情况直方图**（保留）：
  - 维度：面积区间
  - 指标：园林数量
- **园林面积树图 / 排序条形图**（新，择一）：
  - 类型：Treemap 或排序条形图
  - 维度：园林名称（Top20 + 其他）
  - 指标：面积（㎡）
  - 标注：Top10 占比 46.1%
- **面积-时代/开放散点图**（新）：
  - 类型：散点
  - X：面积（对数尺度）
  - Y：年代分类（有序刻度）
  - 颜色：开放情况
  - 气泡大小：文保级别（或固定大小）
- **开放/不开放面积箱线图**（新）：
  - 维度：开放情况
  - 指标：面积（㎡）
  - 作用：量化“开放园林更大”的差异
- **面积 Top10 清单**（保留）：
  - 作用：提供资源集中样本
    **页面文字说明（需新增）**：
- **场景导语**：强调“资源并不平均分布，少数园林占据主要面积”。
- **阅读路径提示**：先看集中度图，再看直方图与箱线图，最后看散点识别时代差异。
- **关键结论条**：
  - “Top10 园林占总面积约 46.1%，呈显著集中。”
  - “开放园林平均面积显著高于不开放园林，规模与开放正相关。”
- **图表注释**：
  - 散点图使用对数面积尺度，避免极端值掩盖小园林。

### 场景 5：保护状况与风险提示（新增）

**核心观点**：保护状况为“中/差”的园林多数不开放，风险主要集中在少数区县与特定权属结构。  
**为什么需要**：保护状况是当前概览中完全缺失的关键维度，直接影响价值与可达性。  
**用户能获得什么**：识别风险与治理薄弱点，形成“保护-开放”的治理线索。  
**修改方案**：

- **新增场景**：当前概览无该维度，需新增独立叙事场景与图表集合。  
  **图表与数据设计**：
- **保护状况×开放情况热力矩阵**（新）：
  - 维度：保护状况（好/中/差） × 开放情况
  - 指标：数量 + 保护状况内开放率
- **区县×保护状况堆叠条形图**（新）：
  - 维度：区县
  - 指标：好/中/差占比
  - 作用：识别风险空间集中区
- **保护状况园林清单**（新）：
  - 数据子集：保护状况 ∈ {中, 差}
  - 列：名称、区县、文保级别、开放情况、权属性质
    **页面文字说明（需新增）**：
- **场景导语**：强调“保护状况与开放并非等价，但存在明显关联”。
- **阅读路径提示**：先看保护×开放矩阵，再看区县分布，最后浏览风险清单。
- **关键结论条**：
  - “保护状况为‘中/差’的园林中，不开放比例更高。”
  - “风险园林集中在少数区县，可作为治理重点提示。”
- **图表注释**：
  - 区县堆叠图以占比为主，避免数量规模误导。

## 4. 新增图表组件与数据加工清单

### 4.1 新增图表组件（ECharts）

- `HeatmapMatrixChart.vue`：矩阵热力图（X/Y 类别 + 数量/比例）
- `ScatterChart.vue`：散点/气泡图（支持 log 轴、气泡大小、类别 Y 轴）
- `BoxPlotChart.vue`：箱线图（面积分布比较）
- `TreemapChart.vue`（可选）：面积集中度可视化

### 4.2 新增数据衍生指标

- 区县层：园林密度、开放率、人均开放园林数、开放园林面积/万人
- 资源集中度：Top10 面积占比、Top20 + 其他的面积占比
- 遗产强度：高等级占比（全国+省级）
- 比值指标：园林占比 ÷ 面积占比（区县集中度比值）

## 5. 实施步骤（不含具体代码）

1. **叙事冻结与场景清单确认**
   - 产出：5 个场景的最终名称、核心观点、保留/替换/新增图表清单。
   - 同步：更新 `NarrativeSelector` 的场景列表与文案草案（先文案后实现）。
2. **数据口径核验与指标字典**
   - 明确：各字段归类（年代、文保级别、开放情况、权属、用途、保护状况）。
   - 产出：指标字典（密度/开放率/人均开放园林数/集中度比值等公式）。
3. **图表规范与布局框架**
   - 统一：矩阵/散点/箱线图的坐标口径、配色与 tooltip 信息结构。
   - 产出：每个图表的“轴/维度/指标/排序/过滤”说明表。
4. **场景级版式与阅读路径设计**
   - 规划：每个场景的图表排列顺序与阅读路径（先总览、再结构、再清单）。
   - 产出：场景级文字说明与关键结论条（2–3 行），位置明确。
5. **组件与数据管线落地**
   - 新增：矩阵、散点、箱线图组件；复用现有图表组件并减少重复。
   - 数据：集中在 `chartDataProcessor` 生成矩阵与散点数据集。
6. **逐场景替换与校验**
   - 按场景替换旧图表，确保“保留/替换/新增”完全落地。
   - 对照指标字典检查统计口径与排序逻辑。
7. **文本与交互一致性检查**
   - 校验：标题、导语、结论条、tooltip 与图表内容一致。
   - 统一：颜色、排序、单位、空值显示策略。
8. **验收与优化**
   - 验收：每个场景至少包含“结论条 + 结构图 + 清单表”。
   - 优化：避免图表密度过高，保持可读性与加载性能。
9. **概览筛选需求预留**
   - 当前仅预留入口与文案提示，待后续需求明确后再实现筛选逻辑。
